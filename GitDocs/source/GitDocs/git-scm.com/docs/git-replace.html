<!DOCTYPE html>
<html lang="en">


<!-- Mirrored from git-scm.com/docs/git-replace by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Oct 2017 09:48:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

  <meta charset='utf-8'>
  <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>

  <title>Git - git-replace Documentation</title>

  <link href='https://git-scm.com/favicon.ico' rel='shortcut icon' type='image/x-icon'>
  <link rel="alternate" href="https://git-scm.com/blog.rss" type="application/rss+xml" title="Git - Blog">

  <link rel="stylesheet" media="screen" href="../assets/git-scm-e7baad50e93810401dcff271ffd82512.css" />
  <script src="../assets/modernizr-0a2ce4076d64283b11c658f7ef3100c6.js"></script>
<script src="../assets/modernizr-tests-73fae1efb92f6d477f2f589e95775709.js"></script>
  <!--[if (gte IE 6)&(lte IE 8)]>
  <script src="/javascripts/selectivizr-min.js"></script>
  <![endif]-->

  <script src="../../use.typekit.com/jsq2fql.js" type="text/javascript"></script>
  <script>
    //<![CDATA[
      try{Typekit.load();}catch(e){}
    //]]>
  </script>

</head>

<body id="documentation">

  <div class="inner">
    <header>

  <a href="https://git-scm.com/"><img src="../images/logo%402x.png" width="110" height="46" alt="Git" /></a>
  <span id="tagline"></span>
  <script type="text/javascript">
    var taglines = ["fast-version-control","everything-is-local","distributed-even-if-your-workflow-isnt","local-branching-on-the-cheap","distributed-is-the-new-centralized"];
    var tagline = taglines[Math.floor(Math.random() * taglines.length)];
    document.getElementById('tagline').innerHTML = '--' + tagline;
  </script>
  <form id="search" action="https://git-scm.com/search/results">
    <input id="search-text" name="search" placeholder="Search entire site..." autocomplete="off" type="text" />
  </form>
  <div id="search-results"></div>

</header>

  </div> <!-- .inner -->

    <div class="inner">
      <div id="content-wrapper">
        <aside class="sidebar">
  <nav>
    <ul>
      <li>
        <a href="https://git-scm.com/about">About</a>
      </li>
      <li>
        <a class="active" href="https://git-scm.com/doc">Documentation</a>
        <ul class="expanded">
          <li>
            <a href="https://git-scm.com/docs">Reference</a>
          </li>
          <li>
            <a href="https://git-scm.com/book">Book</a>
          </li>
          <li>
            <a href="https://git-scm.com/videos">Videos</a>
          </li>
          <li>
            <a href="https://git-scm.com/doc/ext">External Links</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="https://git-scm.com/blog">Blog</a>
      </li>
      <li>
        <a href="https://git-scm.com/downloads">Downloads</a>
        <ul class="">
          <li>
            <a href="https://git-scm.com/downloads/guis">GUI Clients</a>
          </li>
          <li>
            <a href="https://git-scm.com/downloads/logos">Logos</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="https://git-scm.com/community">Community</a>
      </li>
    </ul>
  </nav>
</aside>
        <div id="content">
          

  <div id='reference-version'>
    <a class="dropdown-trigger" id="reference-topics-trigger" data-panel-id="topics-dropdown" href="#">Topics ▾</a>
<div class='dropdown-panel right' id='topics-dropdown'>
  <div class='three-column'>
    <div class='column-left'>
      <h3 class='setup'>Setup and Config</h3>
<ul class='unstyled'>
  <li><a href="git.html">git</a></li>
  <li><a href="git-config.html">config</a></li>
  <li><a href="git-help.html">help</a></li>
</ul>

      <h3 class='projects'>Getting and Creating Projects</h3>
<ul class='unstyled'>
  <li><a href="git-init.html">init</a></li>
  <li><a href="git-clone.html">clone</a></li>
</ul>

      <h3 class='snapshotting'>Basic Snapshotting</h3>
<ul class='unstyled'>
  <li><a href="git-add.html">add</a></li>
  <li><a href="git-status.html">status</a></li>
  <li><a href="git-diff.html">diff</a></li>
  <li><a href="git-commit.html">commit</a></li>
  <li><a href="git-reset.html">reset</a></li>
  <li><a href="git-rm.html">rm</a></li>
  <li><a href="git-mv.html">mv</a></li>
</ul>

      <h3 class='branching'>Branching and Merging</h3>
<ul class='unstyled'>
  <li><a href="git-branch.html">branch</a></li>
  <li><a href="git-checkout.html">checkout</a></li>
  <li><a href="git-merge.html">merge</a></li>
  <li><a href="git-mergetool.html">mergetool</a></li>
  <li><a href="git-log.html">log</a></li>
  <li><a href="git-stash.html">stash</a></li>
  <li><a href="git-tag.html">tag</a></li>
</ul>

      <h3 class='sharing'>Sharing and Updating Projects</h3>
<ul class='unstyled'>
  <li><a href="git-fetch.html">fetch</a></li>
  <li><a href="git-pull.html">pull</a></li>
  <li><a href="git-push.html">push</a></li>
  <li><a href="git-remote.html">remote</a></li>
  <li><a href="git-submodule.html">submodule</a></li>
</ul>

    </div>
    <div class='column-middle'>
      <h3 class='inspection'>Inspection and Comparison</h3>
<ul class='unstyled'>
  <li><a href="git-show.html">show</a></li>
  <li><a href="git-log.html">log</a></li>
  <li><a href="git-diff.html">diff</a></li>
  <li><a href="git-shortlog.html">shortlog</a></li>
  <li><a href="git-describe.html">describe</a></li>
</ul>

      <h3 class='patching'>Patching</h3>
<ul class='unstyled'>
  <li><a href="git-apply.html">apply</a></li>
  <li><a href="git-cherry-pick.html">cherry-pick</a></li>
  <li><a href="git-diff.html">diff</a></li>
  <li><a href="git-rebase.html">rebase</a></li>
  <li><a href="git-revert.html">revert</a></li>
</ul>

      <h3 class='debugging'>Debugging</h3>
<ul class='unstyled'>
  <li><a href="git-bisect.html">bisect</a></li>
  <li><a href="git-blame.html">blame</a></li>
  <li><a href="git-grep.html">grep</a></li>
</ul>

      <h3 class='email'>Email</h3>
<ul class='unstyled'>
  <li><a href="git-am.html">am</a></li>
  <li><a href="git-apply.html">apply</a></li>
  <li><a href="git-format-patch.html">format-patch</a></li>
  <li><a href="git-send-email.html">send-email</a></li>
  <li><a href="git-request-pull.html">request-pull</a></li>
</ul>

      <h3 class='external'>External Systems</h3>
<ul class='unstyled'>
  <li><a href="git-svn.html">svn</a></li>
  <li><a href="git-fast-import.html">fast-import</a></li>
</ul>

      <h3 class='server-admin'>Server Admin</h3>
<ul class='unstyled'>
  <li><a href="git-daemon.html">daemon</a></li>
  <li><a href="git-update-server-info.html">update-server-info</a></li>
</ul>

    </div>
    <div class='column-right'>
      <h3 class='guides'>Guides</h3>
<ul class='unstyled'>
  <li><a href="gitattributes.html">gitattributes</a></li>
  <li><a href="giteveryday.html">Everyday Git</a></li>
  <li><a href="gitglossary.html">Glossary</a></li>
  <li><a href="gitignore.html">gitignore</a></li>
  <li><a href="gitmodules.html">gitmodules</a></li>
  <li><a href="gitrevisions.html">Revisions</a></li>
  <li><a href="gittutorial.html">Tutorial</a></li>
  <li><a href="gitworkflows.html">Workflows</a></li>
</ul>

      <h3 class='admin'>Administration</h3>
<ul class='unstyled'>
  <li><a href="git-clean.html">clean</a></li>
  <li><a href="git-gc.html">gc</a></li>
  <li><a href="git-fsck.html">fsck</a></li>
  <li><a href="git-reflog.html">reflog</a></li>
  <li><a href="git-filter-branch.html">filter-branch</a></li>
  <li><a href="git-instaweb.html">instaweb</a></li>
  <li><a href="git-archive.html">archive</a></li>
  <li><a href="git-bundle.html">bundle</a></li>
</ul>

      <h3 class='plumbing'>Plumbing Commands</h3>
<ul class='unstyled'>
  <li><a href="git-cat-file.html">cat-file</a></li>
  <li><a href="git-check-ignore.html">check-ignore</a></li>
  <li><a href="git-commit-tree.html">commit-tree</a></li>
  <li><a href="git-count-objects.html">count-objects</a></li>
  <li><a href="git-diff-index.html">diff-index</a></li>
  <li><a href="git-for-each-ref.html">for-each-ref</a></li>
  <li><a href="git-hash-object.html">hash-object</a></li>
  <li><a href="git-ls-files.html">ls-files</a></li>
  <li><a href="git-merge-base.html">merge-base</a></li>
  <li><a href="git-read-tree.html">read-tree</a></li>
  <li><a href="git-rev-list.html">rev-list</a></li>
  <li><a href="git-rev-parse.html">rev-parse</a></li>
  <li><a href="git-show-ref.html">show-ref</a></li>
  <li><a href="git-symbolic-ref.html">symbolic-ref</a></li>
  <li><a href="git-update-index.html">update-index</a></li>
  <li><a href="git-update-ref.html">update-ref</a></li>
  <li><a href="git-verify-pack.html">verify-pack</a></li>
  <li><a href="git-write-tree.html">write-tree</a></li>
</ul>

    </div>
  </div>
</div>

    <a class="dropdown-trigger" id="reference-versions-trigger" data-panel-id="previous-versions-dropdown" href="#">Version 2.14.2 ▾</a>
<span class="light">git-replace last updated in 2.14.2</span>
<div class='dropdown-panel left' id='previous-versions-dropdown'>
  <header>Changes in the <strong>git-replace</strong> manual</header>
  <ol class='reference-previous-versions'>
        <li class="no-change"><span>2.9.2 &rarr; 2.14.2 no changes</span></li>
        <li>
        <a href="git-replace/2.9.html"><span class="version">2.9.1</span>
          <span class="diff">
              <img src="../images/icons/green-dot.png" />
              <img src="../images/icons/red-dot.png" />
              <img src="../images/icons/grey-dot.png" />
              <img src="../images/icons/grey-dot.png" />
              <img src="../images/icons/grey-dot.png" />
              <img src="../images/icons/grey-dot.png" />
              <img src="../images/icons/grey-dot.png" />
              <img src="../images/icons/grey-dot.png" />
          </span>
          <em class="date">07/11/16</em>
        </a>
        </li>
        <li class="no-change"><span>2.1.1 &rarr; 2.9.0 no changes</span></li>
        <li>
        <a href="git-replace/2.1.html"><span class="version">2.1.0</span>
          <span class="diff">
              <img src="../images/icons/red-dot.png" />
              <img src="../images/icons/red-dot.png" />
              <img src="../images/icons/grey-dot.png" />
              <img src="../images/icons/grey-dot.png" />
              <img src="../images/icons/grey-dot.png" />
              <img src="../images/icons/grey-dot.png" />
              <img src="../images/icons/grey-dot.png" />
              <img src="../images/icons/grey-dot.png" />
          </span>
          <em class="date">08/15/14</em>
        </a>
        </li>
    <li>&nbsp;</li>
    <!-- <li><a class="more" href="#">See more previous releases →</a></li> -->
  </ol>
  <footer>
    <span class="light">Check your version of git by running<br></span>
    <strong>$</strong>
    <input type="text" class="copyable" value="git --version" />
  </footer>
</div>

  </div>

  <div id='main'>
    <div class="sect1">
<h2 id="_name"><a class="anchor" href="#_name"></a>NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-replace - Create, list, delete refs to replace objects</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis"><a class="anchor" href="#_synopsis"></a>SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git replace</em> [-f] &lt;object&gt; &lt;replacement&gt;
<em>git replace</em> [-f] --edit &lt;object&gt;
<em>git replace</em> [-f] --graft &lt;commit&gt; [&lt;parent&gt;&#8230;&#8203;]
<em>git replace</em> -d &lt;object&gt;&#8230;&#8203;
<em>git replace</em> [--format=&lt;format&gt;] [-l [&lt;pattern&gt;]]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description"><a class="anchor" href="#_description"></a>DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Adds a <em>replace</em> reference in <code>refs/replace/</code> namespace.</p>
</div>
<div class="paragraph">
<p>The name of the <em>replace</em> reference is the SHA-1 of the object that is
replaced. The content of the <em>replace</em> reference is the SHA-1 of the
replacement object.</p>
</div>
<div class="paragraph">
<p>The replaced object and the replacement object must be of the same type.
This restriction can be bypassed using <code>-f</code>.</p>
</div>
<div class="paragraph">
<p>Unless <code>-f</code> is given, the <em>replace</em> reference must not yet exist.</p>
</div>
<div class="paragraph">
<p>There is no other restriction on the replaced and replacement objects.
Merge commits can be replaced by non-merge commits and vice versa.</p>
</div>
<div class="paragraph">
<p>Replacement references will be used by default by all Git commands
except those doing reachability traversal (prune, pack transfer and
fsck).</p>
</div>
<div class="paragraph">
<p>It is possible to disable use of replacement references for any
command using the <code>--no-replace-objects</code> option just after <em>git</em>.</p>
</div>
<div class="paragraph">
<p>For example if commit <em>foo</em> has been replaced by commit <em>bar</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git --no-replace-objects cat-file commit foo</pre>
</div>
</div>
<div class="paragraph">
<p>shows information about commit <em>foo</em>, while:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git cat-file commit foo</pre>
</div>
</div>
<div class="paragraph">
<p>shows information about commit <em>bar</em>.</p>
</div>
<div class="paragraph">
<p>The <code>GIT_NO_REPLACE_OBJECTS</code> environment variable can be set to
achieve the same effect as the <code>--no-replace-objects</code> option.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options"><a class="anchor" href="#_options"></a>OPTIONS</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-replace--f"> <a class="anchor" href="#git-replace--f"></a>-f </dt>
<dt class="hdlist1" id="git-replace---force"> <a class="anchor" href="#git-replace---force"></a>--force </dt>
<dd>
<p>If an existing replace ref for the same object exists, it will
be overwritten (instead of failing).</p>
</dd>
<dt class="hdlist1" id="git-replace--d"> <a class="anchor" href="#git-replace--d"></a>-d </dt>
<dt class="hdlist1" id="git-replace---delete"> <a class="anchor" href="#git-replace---delete"></a>--delete </dt>
<dd>
<p>Delete existing replace refs for the given objects.</p>
</dd>
<dt class="hdlist1" id="git-replace---editltobjectgt"> <a class="anchor" href="#git-replace---editltobjectgt"></a>--edit &lt;object&gt; </dt>
<dd>
<p>Edit an object&#8217;s content interactively. The existing content
for &lt;object&gt; is pretty-printed into a temporary file, an
editor is launched on the file, and the result is parsed to
create a new object of the same type as &lt;object&gt;. A
replacement ref is then created to replace &lt;object&gt; with the
newly created object. See <a href='git-var.html'>git-var[1]</a> for details about
how the editor will be chosen.</p>
</dd>
<dt class="hdlist1" id="git-replace---raw"> <a class="anchor" href="#git-replace---raw"></a>--raw </dt>
<dd>
<p>When editing, provide the raw object contents rather than
pretty-printed ones. Currently this only affects trees, which
will be shown in their binary form. This is harder to work with,
but can help when repairing a tree that is so corrupted it
cannot be pretty-printed. Note that you may need to configure
your editor to cleanly read and write binary data.</p>
</dd>
<dt class="hdlist1" id="git-replace---graftltcommitgtltparentgt82308203"> <a class="anchor" href="#git-replace---graftltcommitgtltparentgt82308203"></a>--graft &lt;commit&gt; [&lt;parent&gt;&#8230;&#8203;] </dt>
<dd>
<p>Create a graft commit. A new commit is created with the same
content as &lt;commit&gt; except that its parents will be
[&lt;parent&gt;&#8230;&#8203;] instead of &lt;commit&gt;'s parents. A replacement ref
is then created to replace &lt;commit&gt; with the newly created
commit. See contrib/convert-grafts-to-replace-refs.sh for an
example script based on this option that can convert grafts to
replace refs.</p>
</dd>
<dt class="hdlist1" id="git-replace--lltpatterngt"> <a class="anchor" href="#git-replace--lltpatterngt"></a>-l &lt;pattern&gt; </dt>
<dt class="hdlist1" id="git-replace---listltpatterngt"> <a class="anchor" href="#git-replace---listltpatterngt"></a>--list &lt;pattern&gt; </dt>
<dd>
<p>List replace refs for objects that match the given pattern (or
all if no pattern is given).
Typing "git replace" without arguments, also lists all replace
refs.</p>
</dd>
<dt class="hdlist1" id="git-replace---formatltformatgt"> <a class="anchor" href="#git-replace---formatltformatgt"></a>--format=&lt;format&gt; </dt>
<dd>
<p>When listing, use the specified &lt;format&gt;, which can be one of
<em>short</em>, <em>medium</em> and <em>long</em>. When omitted, the format
defaults to <em>short</em>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_formats"><a class="anchor" href="#_formats"></a>FORMATS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following format are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>short</em>:
&lt;replaced sha1&gt;</p>
</li>
<li>
<p><em>medium</em>:
&lt;replaced sha1&gt; &#8594; &lt;replacement sha1&gt;</p>
</li>
<li>
<p><em>long</em>:
&lt;replaced sha1&gt; (&lt;replaced type&gt;) &#8594; &lt;replacement sha1&gt; (&lt;replacement type&gt;)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_replacement_objects"><a class="anchor" href="#_creating_replacement_objects"></a>CREATING REPLACEMENT OBJECTS</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href='git-filter-branch.html'>git-filter-branch[1]</a>, <a href='git-hash-object.html'>git-hash-object[1]</a> and
<a href='git-rebase.html'>git-rebase[1]</a>, among other git commands, can be used to create
replacement objects from existing objects. The <code>--edit</code> option can
also be used with <em>git replace</em> to create a replacement object by
editing an existing object.</p>
</div>
<div class="paragraph">
<p>If you want to replace many blobs, trees or commits that are part of a
string of commits, you may just want to create a replacement string of
commits and then only replace the commit at the tip of the target
string of commits with the commit at the tip of the replacement string
of commits.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bugs"><a class="anchor" href="#_bugs"></a>BUGS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Comparing blobs or trees that have been replaced with those that
replace them will not work properly. And using <code>git reset --hard</code> to
go back to a replaced commit will move the branch to the replacement
commit instead of the replaced commit.</p>
</div>
<div class="paragraph">
<p>There may be other problems when using <em>git rev-list</em> related to
pending objects.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also"><a class="anchor" href="#_see_also"></a>SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href='git-hash-object.html'>git-hash-object[1]</a>
<a href='git-filter-branch.html'>git-filter-branch[1]</a>
<a href='git-rebase.html'>git-rebase[1]</a>
<a href='git-tag.html'>git-tag[1]</a>
<a href='git-branch.html'>git-branch[1]</a>
<a href='git-commit.html'>git-commit[1]</a>
<a href='git-var.html'>git-var[1]</a>
<a href='git.html'>git[1]</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Part of the <a href='git.html'>git[1]</a> suite</p>
</div>
</div>
</div>
  </div>

        </div>
      </div>
      <footer>
  <div class="site-source">
    This <a href="https://github.com/git/git-scm.com/blob/master/README.md#license">open sourced</a> site is <a href="https://github.com/git/git-scm.com">hosted on GitHub.</a><br>
    Patches, suggestions and comments are welcome.
  </div>
  <div class="sfc-member">
    Git is a member of <a href="https://git-scm.com/sfc">Software Freedom Conservancy</a>
  </div>
</footer>

<script src="../assets/jquery-1.7.1.min-1e7a63d6feb237e04147914d7b3f8b05.js"></script>
<script src="../assets/jquery-ui-1.8.18.custom.min-01c113ee6bd3a021d2aceb47c8807458.js"></script>
<script src="../assets/jquery.defaultvalue-a3344e839433713d41ec7304ecdd6138.js"></script>
<script src="../assets/session.min-bf0ddfe17e69417e50f0eb3b9c3e1214.js"></script>
<script src="../assets/site-19b3bff50bab526421befb3d0b04eb62.js"></script>

    </div>

</body>

<!-- Mirrored from git-scm.com/docs/git-replace by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Oct 2017 09:48:52 GMT -->
</html>
